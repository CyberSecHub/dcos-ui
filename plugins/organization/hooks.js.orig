<<<<<<< 77a5b25722214bf320734c4cd3096ab3e305bec7
import _ from 'underscore';
import {Route, Redirect} from 'react-router';

const PluginHooks = {
=======
import {Route, Redirect} from 'react-router';

const PluginHooks = {

  defaults: {
    redirect: {
      type: Redirect,
      from: '/settings/?',
      to: 'settings-organization'
    },
    organizationRoutes: []
  },
>>>>>>> extensible routing in place for settings tab. Missing some pieces but pushing for team to view
  /**
   * @param  {Object} Hooks The Hooks API
   */
  initialize(Hooks) {
<<<<<<< 77a5b25722214bf320734c4cd3096ab3e305bec7
    Hooks.addFilter('SettingsRoutes', this.appendRoutes.bind(this, Hooks));
    Hooks.addFilter('SettingsTabs', this.getTabs.bind(this));
  },

  getTabs(tabs) {
    return _.extend(tabs, {
      'settings-organization': {
        content: 'Organization',
        priority: 20
      }
    });
=======
    Hooks.addFilter('getSettingsRoutes', this.getRoutes.bind(this, Hooks));
>>>>>>> extensible routing in place for settings tab. Missing some pieces but pushing for team to view
  },

  getOrganizationRoutes(Hooks) {
    // Return filtered Routes
    return this.getFilteredRoutes(
      // Pass in Object so Plugins can mutate routes and the default redirect
<<<<<<< 77a5b25722214bf320734c4cd3096ab3e305bec7
      Hooks.applyFilter('OrganizationRoutes', {
        routes: [],
=======
      Hooks.applyFilter('getOrganizationRoutes', {
        routes: [].slice.call(this.defaults.organizationRoutes),
>>>>>>> extensible routing in place for settings tab. Missing some pieces but pushing for team to view
        redirect: {
          type: Redirect,
          from: '/settings/?',
          to: 'settings-system'
        }
      })
    );
  },

  getFilteredRoutes(filteredRoutes) {
<<<<<<< 77a5b25722214bf320734c4cd3096ab3e305bec7
    // Push redirect onto Routes Array
    return filteredRoutes.routes.concat([filteredRoutes.redirect]);
  },

  appendRoutes(Hooks, route) {
    let childRoutes = this.getOrganizationRoutes(Hooks);

    route.redirect = {
      type: Redirect,
      from: '/settings/?',
      to: 'settings-organization'
    };
=======
    return filteredRoutes.routes.concat([filteredRoutes.redirect]);
  },

  getRoutes(Hooks, route) {
    let childRoutes = this.getOrganizationRoutes(Hooks);

    route.redirect = this.defaults.redirect;
>>>>>>> extensible routing in place for settings tab. Missing some pieces but pushing for team to view
    route.routes.push(
      {
        type: Route,
        name: 'settings-organization',
        path: 'organization/?',
        children: childRoutes
      }
    );
    return route;
  }
};

module.exports = PluginHooks;
